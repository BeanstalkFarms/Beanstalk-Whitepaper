\documentclass[class=article, crop=false]{standalone}
\usepackage[subpreambles=true]{standalone}
\usepackage{import}
\usepackage{amsmath}
\usepackage{enumitem} % Format list spacing 

\begin{document}

\subsection{Oracle Whitelist}
The following liquidity pool is \term{Whitelisted} for inclusion in the calculation of \hyperlink{ht50}{$\Delta B_{\overline{t-1}}$}:
\subsubsection{$\Phi$}
    \begin{enumerate}
        \item \textbf{Pool Address:} The \hyperlink{ht187}{$\Phi$} liquidity pool address is 0xc9C32cd16Bf7eFB85Ff14e0c8603cc90F6F2eE49.
        \item \textbf{\hyperlink{ht50}{$\Delta b_{\overline{t-1}}$} Calculation:} The liquidity and time weighted average shortage or excess of Beans in the BEAN:3CRV Curve liquidity pool over the previous \term{Season} (\hyperlink{ht52}{$\Delta b_{\overline{t-1}}^{\Phi}$}) is calculated as the difference between the optimal liquidity and time weighted average number of Beans (\hyperlink{ht199}{$\Phi_{\overline{t-1}}^{{\bean}^*}$}) and the liquidity and time weighted average number of Beans (\hyperlink{ht198}{$\Phi_{\overline{t-1}}^{\bean}$}) in \hyperlink{ht187}{$\Phi$} over the previous \term{Season}, such that $\hyperlink{ht52}{\Delta b_{\overline{t-1}}^{\Phi}},\ \hyperlink{ht199}{\Phi_{\overline{t-1}}^{{\bean}^*}},\ \hyperlink{ht198}{\Phi_{\overline{t-1}}^{\bean}} \in \{j \times 10^{-6} \mid j \in \mathbb{Z}^{+} \}$. \hyperlink{ht199}{$\Phi_{\overline{t-1}}^{{\bean}^*}$} is calculated from \hyperlink{ht198}{$\Phi_{\overline{t-1}}^{\bean}$}, the time weighted average number of 3CRV in \hyperlink{ht187}{$\Phi$} over the previous \term{Season} (\hyperlink{ht200}{$\Phi_{\overline{t-1}}^{\text{3CRV}}$}), such that $\hyperlink{ht200}{\Phi_{\overline{t-1}}^{\text{3CRV}}}\in \{j \times 10^{-18} \mid j \in \mathbb{Z}^{+} \}$, \hyperlink{ht136}{$P^{\text{3CRV}}$} and \hyperlink{ht190}{$\Phi^{A}$}. The absolute value of \hyperlink{ht50}{$\Delta b_{\overline{t-1}}$} is at most 1\% of $B_{t-1}$.

Beanstalk calculates a liquidity and time weighted average price invariant for \hyperlink{ht187}{$\Phi$} over the previous \term{Season} (\hyperlink{ht98}{$\zeta^{\Phi}_{\overline{t-1}}$}), such that $\hyperlink{ht98}{\zeta^{\Phi}_{\overline{t-1}}}\in \{j \times 10^{-18} \mid j \in \mathbb{Z}^{+} \}$, by calling the Curve \code{get\_D} function on \hyperlink{ht198}{$\Phi_{\overline{t-1}}^{\bean}$}, \hyperlink{ht200}{$\Phi_{\overline{t-1}}^{\text{3CRV}}$}, \hyperlink{ht136}{$P^{\text{3CRV}}$} and \hyperlink{ht190}{$\Phi^{A}$} as:
$$\hyperlink{ht98}{\zeta^{\Phi}_{\overline{t-1}}} = \code{get\_D(}[\hyperlink{ht198}{\Phi_{\overline{t-1}}^{\bean}},\ \hyperlink{ht200}{\Phi_{\overline{t-1}}^{\text{3CRV}}} \times \hyperlink{ht136}{P^{\text{3CRV}}}],\ \hyperlink{ht190}{\Phi^{A}}\code{)}$$
Beanstalk calculates \hyperlink{ht199}{$\Phi_{\overline{t-1}}^{{\bean}^*}$} from \hyperlink{ht98}{$\zeta^{\Phi}_{\overline{t-1}}$} as:
$$\hyperlink{ht199}{\Phi_{\overline{t-1}}^{{\bean}^*}} = \frac{\hyperlink{ht98}{\zeta^{\Phi}_{\overline{t-1}}}}{2}$$
Beanstalk calculates \hyperlink{ht52}{$\Delta b_{\overline{t-1}}^{\Phi}$} for a given \hyperlink{ht199}{$\Phi_{\overline{t-1}}^{{\bean}^*}$}, \hyperlink{ht198}{$\Phi_{\overline{t-1}}^{\bean}$} and $B_{t-1}$ as:
$$\hyperlink{ht52}{\Delta b_{\overline{t-1}}^{\Phi}} = \begin{cases} \text{max}\left(\hyperlink{ht199}{\Phi_{\overline{t-1}}^{{\bean}^*}} - \hyperlink{ht198}{\Phi_{\overline{t-1}}^{\bean}}, -\frac{B_{t-1}}{100}\right) & \text{if} \; \hyperlink{ht199}{\Phi_{\overline{t-1}}^{{\bean}^*}} - \hyperlink{ht198}{\Phi_{\overline{t-1}}^{\bean}} < 0 \vspace{.3cm} \\ 
\text{min}\left(\hyperlink{ht199}{\Phi_{\overline{t-1}}^{{\bean}^*}} - \hyperlink{ht198}{\Phi_{\overline{t-1}}^{\bean}}, \frac{B_{t-1}}{100}\right) & \text{else} \end{cases}$$
\end{enumerate}

Therefore, we define \hyperlink{ht50}{$\Delta B_{\overline{t-1}}$} for a given \hyperlink{ht52}{$\Delta b_{\overline{t-1}}^{\Phi}$} as:
$$\hyperlink{ht50}{\Delta B_{\overline{t-1}}} = \hyperlink{ht52}{\Delta b_{\overline{t-1}}^{\Phi}}$$
    
\end{document}