\documentclass[class=article, crop=false]{standalone}
\usepackage[subpreambles=true]{standalone}
\usepackage{import}
\usepackage{amsmath}
\usepackage{enumitem} % Format list spacing 

\begin{document}

\subsection{Convert Whitelist} 

The following \term{Conversions} within the \term{Silo} are \term{Whitelisted}:
\subsubsection{$\lambda$ $\rightarrow$ $\lambda$}
    \begin{enumerate}
        \item \textbf{From Token Address:} The from token address must match the to token address.
        \item \textbf{To Token Address:} The to token address must match the from token address.
        \item \textbf{Conditions:} \term{Deposited} \hyperlink{ht126}{$\lambda$} can be \term{Converted} to a \hyperlink{ht126}{$\lambda$} \term{Deposit} at anytime. 
        \item \textbf{Convert Function:} The number of \hyperlink{ht126}{$\lambda$} received for \term{Converting} \term{Deposited} \hyperlink{ht126}{$\lambda$} within the \term{Silo} is equivalent to the number of \hyperlink{ht126}{$\lambda$} \term{Converted}. Therefore, we define function as:
$$\hyperlink{ht83}{f^{\lambda \rightarrow \lambda}(z^{\lambda})} = z^{\hyperlink{ht126}{\lambda}}$$

    \end{enumerate}
\subsubsection{\Bean\ $\rightarrow$ $\Phi$}
    \begin{enumerate}
        \item \textbf{From Token Address:} The \Bean\ token address is 0xBEA0000029AD1c77D3d5D23Ba2D8893dB9d1Efab.
        \item \textbf{To Token Address:} The \hyperlink{ht187}{$\Phi$} token address is 0xc9C32cd16Bf7eFB85Ff14e0c8603cc90F6F2eE49.
        \item \textbf{Conditions:} \term{Deposited} \Bean\ cannot be \term{Converted} to \term{Deposited} \hyperlink{ht187}{$\Phi$} when the USD price of \Bean1 in the pool (\hyperlink{ht2}{$\$^{\bean(\Phi)}$}), such that $\hyperlink{ht2}{\$^{\bean(\Phi)}}\in \{j \times 10^{-6} \mid j \in \mathbb{Z}^{+} \}$, is below \$1 (\term{i.e}, $\hyperlink{ht2}{\$^{\bean(\Phi)}} < 1$). 

\hyperlink{ht2}{$\$^{\bean(\Phi)}$} is calculated using the number of Beans (\hyperlink{ht188}{$\Phi^{\bean}$}), such that $\hyperlink{ht188}{\Phi^{\bean}} \in \{j \times 10^{-6} \mid j \in \mathbb{Z}^{+} \}$, and number of 3CRV (\hyperlink{ht189}{$\Phi^{\text{3CRV}}$}), such that $\hyperlink{ht189}{\Phi^{\text{3CRV}}} \in \{j \times 10^{-18} \mid j \in \mathbb{Z}^{+} \}$, in the BEAN:3CRV Curve pool, \hyperlink{ht136}{$P^{\text{3CRV}}$}, \hyperlink{ht190}{$\Phi^{A}$}, \hyperlink{ht140}{$P^{\Phi}$}. 

Beanstalk calculates a price invariant for the BEAN:3CRV Curve pool (\hyperlink{ht95}{$\zeta^{\Phi}$}), such that $\hyperlink{ht95}{\zeta^{\Phi}}\in \{j \times 10^{-18} \mid j \in \mathbb{Z}^{+} \}$, by calling the Curve \code{get\_D} function on \hyperlink{ht188}{$\Phi^{\bean}$}, \hyperlink{ht189}{$\Phi^{\text{3CRV}}$}, \hyperlink{ht136}{$P^{\text{3CRV}}$} and \hyperlink{ht190}{$\Phi^{A}$} as:
$$\hyperlink{ht95}{\zeta^{\Phi}} = \code{get\_D(}[\hyperlink{ht188}{\Phi^{\bean}},\ \hyperlink{ht189}{\Phi^{\text{3CRV}}} \times \hyperlink{ht136}{P^{\text{3CRV}}}],\ \hyperlink{ht190}{\Phi^{A}}\code{)}$$
Beanstalk calculates a total number of \hyperlink{ht187}{$\Phi$}, such that $\hyperlink{ht187}{\Phi}\in \{j \times 10^{-18} \mid j \in \mathbb{Z}^{+} \}$, from \hyperlink{ht95}{$\zeta^{\Phi}$} and \hyperlink{ht140}{$P^{\Phi}$} as:
$$\hyperlink{ht187}{\Phi} = \frac{\hyperlink{ht95}{\zeta^{\Phi}}}{\hyperlink{ht140}{P^{\Phi}}}$$
Beanstalk calculates the \hyperlink{ht2}{$\$^{\bean(\Phi)}$} by calling the Curve \code{get\_y} function on \hyperlink{ht188}{$\Phi^{\bean}$}, \hyperlink{ht189}{$\Phi^{\text{3CRV}}$} and \hyperlink{ht136}{$P^{\text{3CRV}}$} as:
$$\hyperlink{ht2}{\$^{\bean(\Phi)}} =  \hyperlink{ht188}{\Phi^{\bean}} - \code{get\_y(}0, 1, \hyperlink{ht188}{\Phi^{\bean}} + 1, [\hyperlink{ht188}{\Phi^{\bean}},\ \hyperlink{ht189}{\Phi^{\text{3CRV}}} \times \hyperlink{ht136}{P^{\text{3CRV}}}]\code{)} - 10^{-6}$$
        \item \textbf{Convert Function:} The number of \hyperlink{ht187}{$\Phi$} received for \term{Converting} \term{Deposited} Beans within the \term{Silo} for a given minimum \hyperlink{ht187}{$\Phi$} received (\hyperlink{ht191}{$\Phi^{\text{min}}$}), such that $\hyperlink{ht191}{\Phi^{\text{min}}} \in \{j \times 10^{-18} \mid j \in \mathbb{N} \}$, is the result of calling the Curve \code{add\_liquidity} function on \hyperlink{ht187}{$\Phi$} and \hyperlink{ht191}{$\Phi^{\text{min}}$} as:
$$f^{\bean \rightarrow \hyperlink{ht187}{\Phi}}(z^{\bean}) = \code{add\_liquidity(} \hyperlink{ht187}{\Phi},\ [z^{\bean},\ 0],\ \hyperlink{ht191}{\Phi^{\text{min}}} \code{)}$$
    \end{enumerate}
\subsubsection{$\Phi$ $\rightarrow$ \Bean}
    \begin{enumerate}
        \item \textbf{From Token Address:} The \hyperlink{ht187}{$\Phi$} token address is 0xc9C32cd16Bf7eFB85Ff14e0c8603cc90F6F2eE49.
        \item \textbf{To Token Address:} The \Bean\ token address is 0xBEA0000029AD1c77D3d5D23Ba2D8893dB9d1Efab.
        \item \textbf{Conditions:} \term{Deposited} \hyperlink{ht187}{$\Phi$} cannot be \term{Converted} to \term{Deposited} \Bean\ when the price of \Bean1 in the pool is greater than or equal to \$1 (\term{i.e}, $1 \leq \hyperlink{ht2}{\$^{\bean(\Phi)}}$). 
        \item \textbf{Convert Function:} The number of Beans received for \term{Converting} \term{Deposited} \hyperlink{ht187}{$\Phi$} within the \term{Silo} for a given minimum Beans received (\hyperlink{ht5}{$\Bean^{\text{min}}$}), such that $\hyperlink{ht5}{\Bean^{\text{min}}} \in \{j \times 10^{-18} \mid j \in \mathbb{N} \}$, is the result of calling the Curve \code{remove\_liquidity\_one\_coin} function on \hyperlink{ht187}{$\Phi$} and \hyperlink{ht5}{$\Bean^{\text{min}}$} as:
$$f^{\hyperlink{ht187}{\Phi} \rightarrow \bean}(z^{\hyperlink{ht187}{\Phi}}) = \code{remove\_liquidity\_one\_coin(} \hyperlink{ht187}{\Phi},\ z^{\hyperlink{ht187}{\Phi}},\ 0,\ \hyperlink{ht5}{\Bean^{\text{min}}} \code{)}$$
    \end{enumerate}
\subsubsection{$\mathfrak{z}^{\bean}$ $\rightarrow$ $\mathfrak{z}^{\Phi}$}
    \begin{enumerate}
        \item \textbf{From Token Address:} The \hyperlink{ht233}{$\mathfrak{z}^{\bean}$} token address is 0x1BEA0050E63e05FBb5D8BA2f10cf5800B6224449.
        \item \textbf{To Token Address:} The \hyperlink{ht235}{$\mathfrak{z}^{\Phi}$} token address is 0x1BEA3CcD22F4EBd3d37d731BA31Eeca95713716D.
        \item \textbf{Conditions:} \term{Deposited} \hyperlink{ht233}{$\mathfrak{z}^{\bean}$} cannot be \term{Converted} to \term{Deposited} \hyperlink{ht235}{$\mathfrak{z}^{\Phi}$} when the price of \Bean1 in the BEAN:3CRV liquidity pool is less than or equal to \$1 (\term{i.e}, $\hyperlink{ht2}{\$^{\bean(\Phi)}} \leq 1$). 
        \item \textbf{Convert Function:} The number of \hyperlink{ht235}{$\mathfrak{z}^{\Phi}$} received for \term{Converting} \term{Deposited} \hyperlink{ht233}{$\mathfrak{z}^{\bean}$} within the \term{Silo} for a given \hyperlink{ht174}{$\mathfrak{S}$}, \hyperlink{ht232}{$\mathfrak{Z}_{\bigotimes}^{\Phi}$}, \hyperlink{ht230}{$\mathfrak{Z}^{\Phi}$}, \hyperlink{ht160}{$\mathfrak{R}^{\Phi}$}, \hyperlink{ht158}{$\mathfrak{R}^{\bean}$}, \hyperlink{ht229}{$\mathfrak{Z}^{\bean}$} and minimum \term{Unripe} \hyperlink{ht187}{$\Phi$} received (\hyperlink{ht236}{$\mathfrak{z}^{\Phi^{\text{min}}}$}), such that $\hyperlink{ht236}{\mathfrak{z}^{\Phi^{\text{min}}}} \in \{j \times 10^{-18} \mid j \in \mathbb{N} \}$, is the result of calling the Curve \code{add\_liquidity} function as:
$$f^{\mathfrak{z}^{\tinybean} \rightarrow \hyperlink{ht235}{\mathfrak{z}^{\Phi}}}(z^{\mathfrak{z}^{\tinybean}}) = \frac{\hyperlink{ht174}{\mathfrak{S}} \times \hyperlink{ht232}{\mathfrak{Z}_{\bigotimes}^{\Phi}} \times \hyperlink{ht230}{\mathfrak{Z}^{\Phi}}}{7.7 \times 10^{7} \times \hyperlink{ht160}{\mathfrak{R}^{\Phi}}} \times \code{add\_liquidity}\left( \hyperlink{ht187}{\Phi},\ \left[\frac{z^{\mathfrak{z}^{\tinybean}} \times \hyperlink{ht158}{\mathfrak{R}^{\bean}}}{\hyperlink{ht229}{\mathfrak{Z}^{\bean}}},\ 0\right],\ \hyperlink{ht236}{\mathfrak{z}^{\Phi^{\text{min}}}} \right)$$
    \end{enumerate}
\subsubsection{$\mathfrak{z}^{\Phi}$ $\rightarrow$ $\mathfrak{z}^{\bean}$}
    \begin{enumerate}
        \item \textbf{From Token Address:} The \hyperlink{ht235}{$\mathfrak{z}^{\Phi}$} token address is 0x1BEA3CcD22F4EBd3d37d731BA31Eeca95713716D.
        \item \textbf{To Token Address:} The \hyperlink{ht233}{$\mathfrak{z}^{\bean}$} token address is 0x1BEA0050E63e05FBb5D8BA2f10cf5800B6224449.
        \item \textbf{Conditions:} \term{Deposited} $\mathfrak{z}^{\Phi}$ cannot be \term{Converted} to \term{Deposited} $\mathfrak{z}^{\bean}$ when the price of \Bean1 in the pool is greater than or equal \$1 (\term{i.e}, $1 \leq \hyperlink{ht2}{\$^{\bean(\Phi)}}$). 
        \item \textbf{Convert Function:} The number of \hyperlink{ht233}{$\mathfrak{z}^{\bean}$} received for \term{Converting} \term{Deposited} \hyperlink{ht235}{$\mathfrak{z}^{\Phi}$} within the \term{Silo} for a given \hyperlink{ht230}{$\mathfrak{Z}^{\Phi}$}, \hyperlink{ht174}{$\mathfrak{S}$}, \hyperlink{ht232}{$\mathfrak{Z}_{\bigotimes}^{\Phi}$}, \hyperlink{ht160}{$\mathfrak{R}^{\Phi}$} and minimum \term{Unripe} Beans received (\hyperlink{ht234}{$\mathfrak{z}^{\bean^{\text{min}}}$}), such that $\hyperlink{ht234}{\mathfrak{z}^{\bean^{\text{min}}}} \in \{j \times 10^{-18} \mid j \in \mathbb{N} \}$, is the result of calling the Curve \code{remove\_liquidity\_one\_coin} function as:
$$f^{\hyperlink{ht235}{\mathfrak{z}^{\Phi}} \rightarrow \mathfrak{z}^{\tinybean}}(z^{\hyperlink{ht235}{\mathfrak{z}^{\Phi}}}) = \frac{7.7 \times 10^{7} \times \hyperlink{ht230}{\mathfrak{Z}^{\Phi}}}{\mathfrak{S} \times \hyperlink{ht232}{\mathfrak{Z}_{\bigotimes}^{\Phi}}} \times \code{remove\_liquidity\_one\_coin}\left( \Phi,\ \left[\frac{z^{\hyperlink{ht235}{\mathfrak{z}^{\Phi}}} \times \hyperlink{ht160}{\mathfrak{R}^{\Phi}}}{\hyperlink{ht230}{\mathfrak{Z}^{\Phi}}},\ 0\right],\ \hyperlink{ht234}{\mathfrak{z}^{\bean^{\text{min}}}} \right)$$
    \end{enumerate}
\end{document}